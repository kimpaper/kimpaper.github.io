---
layout: post
title: '.NET Framework 4.5.2로 개발했다가. 4.0로... 내림 '
date: '2015-09-16T20:21:00.001-07:00'
author: 페이퍼
tags:
- C#
- 일상
modified_time: '2015-10-06T02:49:45.399-07:00'
blogger_id: tag:blogger.com,1999:blog-335715462918866001.post-5931192667816992149
blogger_orig_url: http://kimpaper.blogspot.com/2015/09/net-framework-452-40.html
---

최근에 윈도우 어플을 개발할 일이 생겼다.<br /><br />.NET 4.5부터 async 문법이 새로 들어갔다 해서.. 이왕 하는거 4.5.2로... 만들기로 했다.<br />오...... 엄청나게 편리하다.!!<br /><br />async, await 두개가 중요하다.<br />특히 UI프로그램에서 background thread와 main thread와의 동기화를 쉽게 지원한다.<br /><br />아래는 id/pwd를 입력받아서 서버통신으로 인증을 진행하는 코드다.<br /><br /><pre><code class="noxml"><br />private async void btnLogin_Click(object sender, RoutedEventArgs e)<br />{<br />    string id = tbEmail.Text;<br />    string pwd = tbPassword.Password;<br /><br />    SetControlEnableState(false);<br />    bool isSuccess = await Task.Run&lt;bool>(() =><br />    {<br />        try<br />        {<br />                    // 여기가 네트워크 통신을 하는 부분이다.<br />            _dataCore.DoLogin(id, pwd);<br />            return true;<br />        }<br />        catch (Exception x)<br />        {<br />            ErrorHandler.ErrorDump(x, true);<br />            return false;<br />        }<br />        });<br /><br />    if (!isSuccess)<br />    {<br />        SetControlEnableState(true);<br />        return;<br />    }<br />}<br /></code></pre><br />보면 알겠지만 client이벤트에서 바로 ... 별도 쓰레드 동기화 없이.. 로그인 처리를 모두 완료했다.<br /><br /><br />오늘 테스트를 진행하는데...<br />.NET Framework 4.5 깔린... PC가.. 많이 없네.....<br /><br />... 그래서.. 4.0으로.. BackgroundWorker 사용해서 재개발했다... <br /><br />그지 같네... (화면이 세개인 프로그램이라 다행)<br /><br />