---
layout: post
title: git 관련 명령어 모음
date: '2015-03-04T17:33:00.002-08:00'
author: 페이퍼
tags:
- gitlab
- git
- svn
modified_time: '2015-06-08T18:48:05.207-07:00'
blogger_id: tag:blogger.com,1999:blog-335715462918866001.post-2011131711525447741
blogger_orig_url: http://kimpaper.blogspot.com/2015/03/git.html
---

<div>// svn to git 마이그레이션</div><div>$ git svn clone --stdlayout --no-metadata -A users.txt svn://example.com/repository/projectname</div><div>$ cd&nbsp;projectname</div><div><br /></div><div>// 아래 users.txt 만드는건데 perl 이 없어서 그런지.. 안되네요... ㅠ</div><div>//$ svn log ^/ --xml | grep -P "^&lt;author" | sort -u | \ perl -pe 's/&lt;author&gt;(.*?)&lt;\/author&gt;/$1 = /' &gt; users.txt</div><div><br /></div><div>// ignore file처리</div><div>$&nbsp;git svn show-ignore -i trunk &gt; .gitignore</div><div><br /></div><div>// remote git 지정</div><div>$ git remote add origin git@git.example.com:group/projectname.git</div><div><br /></div><div>// tags 처리</div><div>$ git for-each-ref refs/remotes/tags | cut -d / -f 4- | grep -v @ | while read tagname; do git tag "$tagname" "tags/$tagname"; git branch -r -d "tags/$tagname"; done</div><div><br /></div><div>// branches 처리</div><div>$ git for-each-ref refs/remotes | cut -d / -f 3- | grep -v @ | while read branchname; do git branch "$branchname" "refs/remotes/$branchname"; git branch -r -d "$branchname"; done</div><div><br /></div><div>// push한다.</div><div><div>$ git push origin --all</div><div>$ git push origin --tags</div></div><div><br />// revert local commit <br />git reset —hard remotes/origin/HEAD<br /><br /></div><div><br /></div><div>-----------</div><br />// backup<br />$ sudo gitlab-rake gitlab:backup:create<br /><br />// restore (가장 최근꺼 복원)<br />$ sudo gitlab-rake gitlab:backup:restore<br /><br />// restore OPTION (아래 지정한 타임스탬프로 복원시켜준다는건가.. 안해봄..)<br />BACKUP=timestamp_of_backup (required if more than one backup exists)<br /><br /><br /><br />